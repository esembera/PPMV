<!DOCTYPE html>
<meta charset="UTF-8">

<html>
<head>
    <link rel="stylesheet" href="dizajn.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<title>Uvoz Automobila</title>
</head>
<body>
    <div class="glavni">
<h1>Automatski izračun PPMV-a</h1>
    <div class="forma">
        <div class="link">
                <input id="k1" type="url" name="link" placeholder="Link oglasa"><br><br>
                <input id="g1" type="submit" value="Izračunaj PPMV">
        </div>
            <br>
        <form id="autoinfo" >
        <div class="forma1">
            <div class="gumbi1">
                <input type="radio" name="radio" id="radio1" value="radio1"  style="display: none;"/>
                <label  for="radio1" class="prvi">NOVO VOZILO</label>
                <input type="radio" name="radio" id="radio2" value="radio2"  style="display: none;"/>
                <label  for="radio2" class="prvi">RABLJENO VOZILO</label>
            </div>
            <br>
            <div id="gumbi2">
                <input type="radio" name="radio1" id="radio3" value="1" onchange="funkcija()" style="display: none;" />
                <label  for="radio3" class="drugi" >DIZEL</label>
                <input type="radio" name="radio1" id="radio4" value="2" onchange="funkcija()" style="display: none;"/>
                <label  for="radio4" class="drugi" >BENZIN</label>
            </div>
            <br>
            
            <div class="cijena1">
                <p1>Prosječna emisija CO<sub>2</sub></p1>
                <div class="co21">
                    <input id="co2" type="number" name="co2" placeholder="120" required><span class="slova1">g/km</span>    
                </div>
                </div>
            <br>
            <div class="cijena1">
            <p1>Prodajna cijena na dan prve registracije:</p1>
                <div class="cijena2">
                <input id="cijena" type="number" name="cijena" placeholder="100.000,00" required><span class="slova1">kn</span>
                </div>
            </div>
            <br>
            <div class="cijena1">
            <p1>Mjesec i godina prve registracije</p1>
                <div class="kalendar">
                    <input type="month" id="dropdown2" name="prvareg" required>
                </div>
                <br>
            <div class="cijena3">
                <p1>Iznos posebnog poreza na motorna vozila:</p1><br>
                <div id="cost">00.00kn</div>
                <br>
                <p2>Ekološka komponenta: <div id="ecoCost">00.00kn</div></p2>
                <br>
                <p2>Vrijednosna komponenta: <div id="valueCost">00.00kn</div></p2>
                </div>
            </div>
        </div>
        </form>
     </div>
        
        
                
        <script>
        //APDEJT - uspio sam slozit da radi za gumbe hehehehe
        var vrAuto
            $(document).ready(function () {
                $('#radio3').click(function () {
                    vrAuto = $(this).val();
                });

            });
            
            $(document).ready(function () {
                $('#radio4').click(function () {
                    vrAuto = $(this).val();
                });

            });
            
        
        </script>
        
        <script>
            
        $('input').keyup(funkcija);
            
        function funkcija() { 
            var cijenaAuta = Number($('#cijena').val());
            var ispusniPlinovi = Number($('#co2').val());
            var on=0;
            var vn=0;
            var en=0;
            var pc=0.0
            var posto=0.0;
            
                if(cijenaAuta<=100000){
                    vn=0;
                    posto=0;
                    pc=(cijenaAuta-0)*(posto/100);    
                }else if(cijenaAuta>100000 && cijenaAuta<=150000){
                    vn=0;
                    posto=0;
                    pc=(cijenaAuta-100000)*(posto/100);
                }else if( cijenaAuta>150000 && cijenaAuta<=200000){
                    vn=2000;
                    posto=3;
                    pc=(cijenaAuta-150000)*(posto/100);
                }else if( cijenaAuta>200000 && cijenaAuta<=250000){
                    vn=3500;
                    posto=5;
                    pc=(cijenaAuta-200000)*(posto/100);
                }else if( cijenaAuta>250000 && cijenaAuta<=300000){
                    vn=6000;
                    posto=7;
                    pc=(cijenaAuta-250000)*(posto/100);
                }else if( cijenaAuta>300000 && cijenaAuta<=350000){
                    vn=9500;
                    posto=9;
                    pc=(cijenaAuta-300000)*(posto/100);
                }else if( cijenaAuta>350000 && cijenaAuta<=400000){
                    vn=14000;
                    posto=11;
                    pc=(cijenaAuta-350000)*(posto/100);
                }else if( cijenaAuta>400000 && cijenaAuta<=450000){
                    vn=19500;
                    posto=13;
                    pc=((cijenaAuta-400000)*(posto/100));
                }else if( cijenaAuta>450000 && cijenaAuta<=500000){
                    vn=26000;
                    posto=14;
                    pc=(cijenaAuta-450000)*(posto/100);
                }else if( cijenaAuta>500000 && cijenaAuta<=550000){
                    vn=33000;
                    posto=15;
                    pc=(cijenaAuta-500000)*(posto/100);
                }else if( cijenaAuta>550000 && cijenaAuta<=600000){
                    vn=40500;
                    posto=16;
                    pc=(cijenaAuta-550000)*(posto/100);
                }else if( cijenaAuta>600000){
                    vn=48500;
                    posto=17;
                    pc=(cijenaAuta-600000)*(posto/100);
                }
            
            if(vrAuto==1){
                if(ispusniPlinovi>=70 && ispusniPlinovi<=85){
                    on=185;
                    en=(ispusniPlinovi-70)*55;
                }
                if(ispusniPlinovi>85 && ispusniPlinovi<=120){
                    on=1010;
                    en=(ispusniPlinovi-85)*175;
                }
                if(ispusniPlinovi>120 && ispusniPlinovi<=140){
                    on=7135;
                    en=(ispusniPlinovi-120)*1150;
                }
                if(ispusniPlinovi>140 && ispusniPlinovi<=170){
                    on=30135;
                    en=(ispusniPlinovi-140)*1250;
                }
                if(ispusniPlinovi>170 && ispusniPlinovi<=200){
                    on=67635;
                    en=(ispusniPlinovi-170)*1350;
                }
                if(ispusniPlinovi>200){
                    on=108135;
                    en=(ispusniPlinovi-200)*1450;
                }
            }
            
            if(vrAuto==2){
                if(ispusniPlinovi>=70 && ispusniPlinovi<=90){
                    on=95;
                    en=(ispusniPlinovi-70)*35;
                }
                if(ispusniPlinovi>90 && ispusniPlinovi<=120){
                    on=620;
                    en=(ispusniPlinovi-90)*135;
                }
                if(ispusniPlinovi>120 && ispusniPlinovi<=140){
                    on=4670;
                    en=(ispusniPlinovi-120)*450;
                }
                if(ispusniPlinovi>140 && ispusniPlinovi<=170){
                    on=13670;
                    en=(ispusniPlinovi-140)*700;
                }
                if(ispusniPlinovi>170 && ispusniPlinovi<=200){
                    on=34670;
                    en=(ispusniPlinovi-170)*1200;
                }
                if(ispusniPlinovi>200){
                    on=70670;
                    en=(ispusniPlinovi-200)*1300;
                }
            }
            
            
            var pp=(vn+pc)+(on+en);
                    
            document.getElementById('cost').innerHTML = pp + "kn"; 
            document.getElementById('ecoCost').innerHTML = (on+en) + "kn";
            document.getElementById('valueCost').innerHTML = (vn+pc) + "kn";
        };
            
        </script>
    </div>
</body>
</html>

